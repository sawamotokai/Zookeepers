<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zookeeper</title>
  <link rel="stylesheet" href="/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
</head>
  <body>
    <header>
      <h1 class="title"><a href="/">🦧Zookeeper🦘</a></h1>
  </header>
    <main>
      <section id="cage">
      
        <h2>🐠Areas in our zoo🦚</h2>
        <form action="/cage/clean" method="POST" class="cleanForm">
        <div class="animalList" id="cageList">
          <% for (var i =0; i < cages.length;  i++ ) { %>
            <label for="cage_<%= cages[i].ID%>">
              <div class="animalCard clickable" onclick="checked()">
              <input type="radio" name="cageToClean" value="<%= cages[i].ID%>" id="cage_<%= cages[i].ID%>" required>
                  <h4><%= cages[i].Location%></h4>
                  <div class="animalDesc">
                    <p>Size: <%= cages[i].Size || "No infomation" %></p>
                  </div>
              </div>
            </label>
            <a href="/animal/cage/<%= cages[i].ID%>" style="border-radius: 0.5em; height: 1em; align-self: center;">Animal in the Area</a>
            
            <% } %>
        </div>
      </div>

        <div class="cleanCage" style="margin: 4em;">
          <h1>🧹Who cleans which cage? </h1><h1>   Pick a staff and an area</h1>
          <form action="/cage/clean" method="POST">
            <div class="dropDowns">
              <label for="cleaningStaff">Pick a staff</label>
              <select name="cleaningStaff" id="cleaningStaff">
                <% for (var i =0; i < staffs.length;  i++ ) { %>
                  <option value="<%= staffs[i].ID%>"><%= staffs[i].Name %></option>
                  <% } %>
              </select>
            </div>
            <button type="submit" style="font-size: 1rem;">Clean the Area!</button>
          </div>
        </form>
        <div class="dirtyCages" style="margin-top: 2em;">
          <a href="http://localhost:2000/cage/dirty" style="font-size: 1.5rem;">Find Dirty Areas🌳</a>
        </div>
      </section>
   
    </main>

  </body>
  <script>
    const checked = () => {
          const divs = Array.from(document.getElementById("cageList").getElementsByClassName("animalCard"));
          for (let div of divs) {
            let el = div.getElementsByTagName("input")[0];
            if (el.checked) div.classList.add("checked");
            else div.classList.remove("checked");
          }
        }
  </script>
</html>
